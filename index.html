<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Table Layout</title>
    <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;}
        .tg td, .tg th {border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
          overflow:hidden;padding:20px 10px;word-break:normal;width:150px;height:10px;}
        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
        .tg .tg-0lax{text-align:left;vertical-align:top}
    </style>
</head>
<body>
    <button>Generate Table</button>
    <div id="table-container"></div>

    <script>
     const jsonData =[
    {
    "name": "column 1",
    "font_weight": "bold",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": "top",
    "is_sub": "0",
    "children": [
    {
    "name": "column 1-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [
    {
    "name": "column 1-1-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [
    {
    "name": "column 1-1-1-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": 12,
    "is_sub": "0",
    "children": []
    }
    ],
    "id": 19
    },
    {
    "name": "column 1-1-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 20
    }
    ],
    "id": 5
    },
    {
    "name": "column 1-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [
    {
    "name": "column 1-2-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 21
    },
    {
    "name": "column 1-2-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 22
    }
    ],
    "id": 6
    }
    ],
    "id": 1
    },
    {
    "name": "column 2",
    "font_weight": "bold",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": "top",
    "is_sub": "0",
    "children": [],
    "id": 2
    },
    {
    "name": "column 3",
    "font_weight": "bold",
    "font_style": "normal",
    "orientation": "vertical",
    "text_align": "center",
    "font_size": "12",
    "place": "top",
    "is_sub": "0",
    "children": [
    {
    "name": "column 3-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "vertical",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "1",
    "children": [],
    "id": 24
    },
    {
    "name": "column 3-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "vertical",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "1",
    "children": [],
    "id": 25
    },
    {
    "name": "column 3-3",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "vertical",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 26
    }
    ],
    "id": 23
    },
    {
    "name": "column 4",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": 12,
    "place": "top",
    "is_sub": "0",
    "children": [
    {
    "name": "column 4-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": 12,
    "is_sub": "0",
    "children": []
    }
    ]
    },
    {
    "name": "row 1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "left",
    "font_size": "12",
    "place": "left",
    "is_sub": "0",
    "children": [
    {
    "name": "row 1-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 7
    },
    {
    "name": "row 1-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 8
    }
    ],
    "id": 3
    },
    {
    "name": "row 2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "left",
    "font_size": "12",
    "place": "left",
    "is_sub": "0",
    "children": [],
    "id": 4
    },
    {
    "name": "row 3",
    "font_weight": "bold",
    "font_style": "normal",
    "orientation": "vertical",
    "text_align": "center",
    "font_size": "12",
    "place": "left",
    "is_sub": "0",
    "children": [
    {
    "name": "row 3-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [
    {
    "name": "row 3-1-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "1",
    "children": [],
    "id": 29
    },
    {
    "name": "row 3-1-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "1",
    "children": [],
    "id": 30
    },
    {
    "name": "row 3-1-3",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "1",
    "children": [],
    "id": 31
    }
    ],
    "id": 28
    },
    {
    "name": "row 3-2",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 32
    },
    {
    "name": "row 3-3",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": "12",
    "place": null,
    "is_sub": "0",
    "children": [],
    "id": 33
    }
    ],
    "id": 27
    },
    {
    "name": "row 4",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "left",
    "font_size": 12,
    "place": "left",
    "is_sub": "0",
    "children": [
    {
    "name": "row 4-1",
    "font_weight": "normal",
    "font_style": "normal",
    "orientation": "horizontal",
    "text_align": "center",
    "font_size": 12,
    "is_sub": "0",
    "children": []
    }
    ]
    }
    ]

function createTableFromJSON(data) {
    const tableContainer = document.getElementById('table-container');
    const table = document.createElement('table');
    table.className = 'tg';

    function createCell(cellData) {
        const cell = document.createElement(cellData.is_sub ? 'th' : 'td');
        cell.colSpan = cellData.colSpan || 1;
        cell.rowSpan = cellData.rowSpan || 1;
        cell.style.fontWeight = cellData.font_weight;
        cell.style.fontStyle = cellData.font_style;
        cell.style.textAlign = cellData.text_align;
        cell.style.fontSize = `${cellData.font_size}px`;
        cell.textContent = cellData.name;
        return cell;
    }

    function populateCell(cell, cellData) {
        cell.style.fontWeight = cellData.font_weight;
        cell.style.fontStyle = cellData.font_style;
        cell.style.textAlign = cellData.text_align;
        cell.style.fontSize = `${cellData.font_size}px`;
        cell.textContent = cellData.name;
    }

    function traverseJSON(json, cell) {
        populateCell(cell, json);
        if (json.children && json.children.length > 0) {
            const nextRow = cell.parentElement.nextElementSibling;
            if (nextRow) {
                const nextCell = nextRow.cells[cell.cellIndex];
                json.children.forEach(child => {
                    traverseJSON(child, nextCell);
                });
            }
        }
    }

    const thead = table.createTHead();
    const tbody = table.createTBody();

    function createEmptyRow(colspan, rowspan) {
        const tr = document.createElement('tr');
        for (let i = 0; i < colspan; i++) {
            const td = document.createElement('td');
            td.rowSpan = rowspan;
            tr.appendChild(td);
        }
        return tr;
    }

    for (let i = 0; i < 5; i++) {
        thead.appendChild(createEmptyRow(18, 1));
    }

    for (let i = 0; i < 9; i++) {
        tbody.appendChild(createEmptyRow(18, 1));
    }

    data.forEach(item => {
        const initialCell = thead.rows[0].cells[0];
        traverseJSON(item, initialCell);
    });

    tableContainer.innerHTML = '';
    tableContainer.appendChild(table);
}

document.querySelector('button').addEventListener('click', () => createTableFromJSON(jsonData));

    </script>
</body>
</html>
